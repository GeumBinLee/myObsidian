> [!Info]- ì¶œì²˜ ë§í¬
> [ğŸ”— Flutter Zero to Hero.Part 7 ğŸ”—](https://medium.com/@NALSengineering/flutter-from-zero-to-hero-part-7-the-power-of-globalkey-6abf818225a0)

# What is GlobalKey?
- `key`ëŠ” `LocalKey`ì™€ `GlobalKey`ë¥¼ ì„œë¸Œí´ë˜ìŠ¤ë¡œ ê°€ì§€ê³  ìˆë‹¤.
- ì•ì„œ ë°°ì› ë“¯, `LocalKey`ëŠ” ë™ì¼í•œ ë¶€ëª¨ë¥¼ ê°€ì§„ ìš”ì†Œë“¤ ì‚¬ì´ì—ì„œ ê³ ìœ í•´ì•¼(unique) í•œë‹¤.
- **GlobalKey**ëŠ” **ì•± ì „ì²´ì—ì„œ ê³ ìœ í•œ í‚¤**ë‹¤.
- ìš°ë¦¬ëŠ” `GlobalKey`ë¥¼ í™œìš©í•´ `Element` in questionì— ì ‘ê·¼í•´ í•´ë‹¹ `Element`ì˜ Stateì™€ Widgetì„ ê°€ì ¸ì˜¬(retrieve) ìˆ˜ ìˆë‹¤.
    we can find and access the Element in question and retrieve its State and Widget.
- ìš°ë¦¬ëŠ” **`GlobalKey`ë¥¼ í™œìš©í•´ íŠ¹ì • `Element`ë¥¼ ì°¾ì•„ì„œ ì ‘ê·¼í•´ í•´ë‹¹ `State`ì™€ `Widget`ì„ ê°€ì ¸ì˜¬** ìˆ˜ ìˆë‹¤.
- ì‹¤ì œë¡œ `GlobalKey`ë¡œ ì„ ì–¸ëœ Widgetì˜ ê²½ìš°, **`currentWidget`ì„ í†µí•´ ì‰½ê²Œ ìœ„ì ¯ì˜ ì°¸ì¡°ë¥¼ ê°€ì ¸ì˜¬** ìˆ˜ ìˆê³ , ë§Œì•½ í•´ë‹¹ ìœ„ì ¯ì´ **StatefulWidget**ì´ë¼ë©´, **`currentState`**ë¥¼ í†µí•´ **ìƒíƒœ(State)ì—ë„ ì ‘ê·¼**í•  ìˆ˜ ìˆë‹¤.

# What can GlobalKey do?
- ì•ì„œ ìš°ë¦¬ëŠ” `context`ë¥¼ ë°°ìš°ë©´ì„œ `No Scaffold ancestor could be found starting from the context that was passed to Scaffold.of()` ì—ëŸ¬ë¥¼ ë‹¤ë¤˜ì—ˆë‹¤. ([source code](https://dartpad.dev/?id=71d9edbd335726c3bcc8b87abf8acd6d))
- ë‹¹ì‹œ `Builder` ìœ„ì ¯ì„ ì‚¬ìš©í•˜ê±°ë‚˜ `FloatingActionButton`ì„ ë”°ë¡œ `MyButtonWidget`ìœ¼ë¡œ ë¹¼ì„œ í•´ê²°í–ˆì—ˆëŠ”ë°, `GlobalKey`ë¥¼ ì‚¬ìš©í•´ì„œë„ í•´ê²°í•  ìˆ˜ ìˆë‹¤. â†’ [ë…¸ì…˜ ë§í¬](https://www.notion.so/3-Understand-BuildContext-in-4-minutes-bc5ab5dd4d604f75af9a1b20649fa2e4?pvs=21)
```dart
import 'package:flutter/material.dart';

void main() {
  runApp(
    MaterialApp(
      home: MyHomePage(),
    ),
  );
}

/*
**1. GlobalKey ìƒì„± ë° Scaffoldì— ì „ë‹¬**
   **ScaffoldëŠ” StatefulWidgetì´ë¯€ë¡œ, ScaffoldStateë¼ëŠ” ìƒíƒœë¥¼ ê°€ì§€ê³  ìˆë‹¤.
   ë”°ë¼ì„œ GlobalKeyë¥¼ ìƒì„±í•˜ê³  Scaffoldì— keyë¡œ ì „ë‹¬í•´ì•¼ í•œë‹¤.
   
2. GlobalKeyë¥¼ ì‚¬ìš©í•´ Scaffoldì˜ ìƒíƒœ ì°¾ê¸°
   Scaffoldë¥¼ ì°¾ê¸° ìœ„í•´ scaffoldKeyë¥¼ ì‚¬ìš©í•œë‹¤.
   ê·¸ë¦¬ê³  currentStateë¥¼ í†µí•´ Scaffoldì˜ Stateë¥¼ ê°€ì ¸ì˜¨ í›„
   showBottomSheetë¥¼ í˜¸ì¶œí•œë‹¤.**
*/
class MyHomePage extends StatelessWidget {
  **final scaffoldKey = GlobalKey<ScaffoldState>(); // 1ë²ˆ**

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      **key: scaffoldKey, // 1ë²ˆ**
      floatingActionButton: FloatingActionButton(onPressed: () {
        **~~Scaffold.of(context).showBottomSheet(~~**
        **scaffoldKey.currentState?.showBottomSheet( // 2ë²ˆ**
          **(context) => Text('Flutter From Zero to Hero'),**
        **);**
      }),
    );
  }
}
```
- `GlobalKey`ëŠ” ì´ì™¸ì—ë„ context ì—†ì´ í™”ë©´ ì „í™˜í•˜ê¸°(navigation), ìœ„ì ¯ì˜ ë„ˆë¹„(width) ê°€ì ¸ì˜¤ê¸°, ë†’ì´(height) ê°€ì ¸ì˜¤ê¸°, ì¢Œí‘œ(coordinates) ê°€ì ¸ì˜¤ê¸° ë“± ë‹¤ì–‘í•œ ì‘ìš©ë²•(application)ì´ ìˆë‹¤.

# The power of GlobalKey
- ì§€ë‚œ ì‹œê°„ì— ë‘ íƒ€ì¼ì˜ ìƒ‰ê¹”ì„ ë°”ê¾¸ëŠ” ì½”ë“œì˜ ë‚œì´ë„ë¥¼ ì˜¬ë¦¬ê¸° ìœ„í•´ ë‘ ê°€ì§€ ìš”êµ¬ì‚¬í•­ì„ ì¶”ê°€í•´ë³´ì.
    - íƒ€ì¼ì˜ ìƒ‰ì„ ë¹¨ê°•ê³¼ íŒŒë‘ìœ¼ë¡œ ì œí•œí•˜ì§€ ì•Šê³ , ëœë¤ìœ¼ë¡œ ë°”ê¾¸ì–´ì•¼ í•œë‹¤.
    - `Tile` ìœ„ì ¯ì„ `Padding`ìœ¼ë¡œ ê°ì‹¼ë‹¤.
```dart
import 'dart:math';
import 'package:flutter/material.dart';

void main() {
  runApp(MaterialApp(home: MyHomePage()));
}

class MyHomePage extends StatefulWidget {
  @override
  _MyHomePageState createState() {
    return _MyHomePageState();
  }
}

class _MyHomePageState extends State<MyHomePage> {
  **// Tileì„ Paddingìœ¼ë¡œ ê°ì‹¸ê¸° ì „ì—ëŠ” ëœë¤í•œ ìƒ‰ìƒì´ ì²˜ìŒì— ì„¸íŒ…ëœ í›„ íƒ€ì¼ì˜ ìœ„ì¹˜ë§Œ ê³„ì† ë°”ë€ë‹¤.**
  **// í•˜ì§€ë§Œ Paddingìœ¼ë¡œ ê°ì‹¸ê³  ë‚˜ë©´ ë²„íŠ¼ í´ë¦­ ì‹œ ë‘ íƒ€ì¼ì˜ ìœ„ì¹˜ê°€ ë°”ë€” ë•Œë§ˆë‹¤ ìƒ‰ìƒì´ ëœë¤í•˜ê²Œ ë°”ë€ë‹¤.**
  final listTile = **~~<Tile>~~**[
    **Padding(**
      **padding: EdgeInsets.zero,**
      **child:** Tile(
        key: ValueKey(1),
      ),
    **),**
    **Padding(**
      **padding: EdgeInsets.zero,**
      **child:** Tile(
        key: ValueKey(2),
      ),
    ),
  ];

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: Center(
        child: Row(
          children: listTile,
        ),
      ),
      floatingActionButton: FloatingActionButton(
        onPressed: swapTwoTileWidget,
        child: Icon(Icons.swap_horiz),
      ),
    );
  }

  void swapTwoTileWidget() {
    setState(() {
      listTile.insert(1, listTile.removeAt(0));
    });
  }
}

class Tile extends StatefulWidget {
  Tile({
    super.key,
  });

  @override
  _TileState createState() => _TileState();
}

class _TileState extends State<Tile> {
  Color? _color;

  @override
  void initState() {
    super.initState();
    **_color = generateRandomColor(); // 1-2. ëœë¤ ìƒ‰ìƒ ì„¤ì •**
  }

  @override
  Widget build(BuildContext context) {
    return Container(
      color: _color,
      width: 100,
      height: 100,
    );
  }
}

**// 1-1. ëœë¤ ìƒ‰ìƒì„ ë§Œë“œëŠ” í•¨ìˆ˜**
**Color generateRandomColor() {
  final Random random = Random();
  return Color.fromRGBO(
      random.nextInt(255), random.nextInt(255), random.nextInt(255), 1);
}**
```
- ë‚´ë¶€ ë™ì‘ì„ ì•Œì•„ë³´ê¸° ìœ„í•´ ì§€ë‚œ ì‹œê°„ì— ë°°ìš´ Eelementì™€ Keyì— ëŒ€í•´ì„œ ë” ê¹Šê²Œ íŒŒê³  ë“¤ì–´ê°€ë³´ì.
- **Paddingìœ¼ë¡œ Tile ìœ„ì ¯ì„ ê°ì‹¼ í›„ì˜ Widget Treeì™€ Element Tree êµ¬ì¡°**
    - íƒ€ì¼ì„ êµì²´í•˜ë©´, Keyê°€ ì¼ì¹˜í•˜ì§€ ì•Šì•„ ë‘ `Element`ê°€ ë¹„í™œì„±í™”(deactivated)ëœë‹¤.
    - FlutterëŠ” Rowì˜ ìì‹ ì¤‘ì—ì„œ Keyê°€ ì¼ì¹˜í•˜ëŠ” ìš”ì†Œ(element)ë¥¼ ì°¾ìœ¼ë ¤ê³  í•œë‹¤.
    - ê·¸ëŸ¬ë‚˜ FlutterëŠ” ê°™ì€ íŠ¸ë¦¬ ë ˆë²¨ì—ì„œë§Œ ì¼ì¹˜í•˜ëŠ” Keyë¥¼ ì°¾ëŠ”ë‹¤. ì´ë•Œ â€œ**ê°™ì€ íŠ¸ë¦¬ ë ˆë²¨**â€ì´ë€, **ê°™ì€ ë¶€ëª¨ë¥¼ ê³µìœ í•˜ëŠ” ìì‹ ìœ„ì ¯ë“¤**ì„ ì˜ë¯¸í•œë‹¤.
    - ë”°ë¼ì„œ FlutterëŠ” `Padding`ìœ¼ë¡œ ì¸í•´ ë‹¤ë¥¸ ë ˆë²¨(â†’ í•œ ë‹¨ê³„ ë‚®ì€ ë ˆë²¨)ì— ìœ„ì¹˜í•˜ê²Œ ëœ `Tile`ì„ ì°¾ì§€ ëª»í•˜ê²Œ ëœë‹¤.
	    ![[elementëŠ” íŠ¸ë¦¬ ë‚´ ë™ì¼ ê³„ì¸µì—ì„œ keyë¥¼ íƒìƒ‰í•œë‹¤.png|center|400]]
    - ê²°ê³¼: ì¼ì¹˜í•˜ëŠ” `Element`ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìœ¼ë¯€ë¡œ ìƒˆë¡œìš´ `Element` ì¸ìŠ¤í„´ìŠ¤ê°€ ìƒì„±ë˜ê³ , ìƒˆë¡œìš´ ìƒíƒœ(State)ê°€ ì´ˆê¸°í™”ëœë‹¤. ë”°ë¼ì„œ ë”°ë¼ì„œ ëœë¤ ìƒ‰ìƒì´ ë‹¤ì‹œ ì„¤ì •ëœë‹¤.
- í•´ê²° ë°©ë²•: `ValueKey` ëŒ€ì‹  `GlobalKey`ë¥¼ ì‚¬ìš©í•˜ë©´ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆë‹¤.    
    ```dart
    final listTile = [
        Padding(
            padding: EdgeInsets.zero,
            child: Tile(
              key: GlobalKey(), // HERE
            ),
        ),
        Padding(
            padding: EdgeInsets.zero,
            child: Tile(
              key: GlobalKey(), // HERE
            ),
        ),
    ];
    ```
    - GlobalKeyëŠ” ì•± ì „ì²´ì—ì„œ ê³ ìœ í•˜ë©°, **Keyë¥¼ ê²€ìƒ‰í•  ë•Œ íŠ¸ë¦¬ì˜ íŠ¹ì • ë ˆë²¨ì— ì œí•œë˜ì§€ ì•ŠëŠ”ë‹¤**.
    - GlobalKeyë¥¼ í†µí•´ FlutterëŠ” íŠ¸ë¦¬ì˜ ì–´ëŠ ë ˆë²¨ì— ìˆë“  Keyê°€ ì¼ì¹˜í•˜ëŠ” ìœ„ì ¯ì„ ì°¾ì•„ Elementì™€ ë§¤ì¹­í•œë‹¤.
    - ë”°ë¼ì„œ ê¸°ì¡´ì˜ `Element`ì™€ `State`ë¥¼ ì¬ì‚¬ìš©í•˜ì—¬ íƒ€ì¼ì˜ ìƒ‰ìƒì´ ìœ ì§€ëœë‹¤.

# GlobalKey is a double-edged sword
- GlobalKeyëŠ” ì´í•´ í›„ ì˜ í™œìš©í•  ìˆ˜ë§Œ ìˆë‹¤ë©´(can put it to good use) ê°•ë ¥í•œ ë¬´ê¸°ê°€ ë  ê²ƒì´ë‹¤.
- ì˜ˆë¥¼ ë“¤ì–´, Counterì˜ Stateê°€ ì „ì²´ ì•±ì„ ê°€ë¡œì§ˆëŸ¬ ì´ë™í•  ìˆ˜ ìˆë„ë¡ ë§Œë“¤ì–´ ì–´ë””ì„œë“  CounterStateì— ì ‘ê·¼í•  ìˆ˜ ìˆê²Œ í•  ìˆ˜ë„ ìˆë‹¤. í•˜ì§€ë§Œ ì´ëŸ° ë™ì‘ì´ ì •ë§ ì¢‹ì€ê±¸ê¹Œ?
- GlobalKeyëŠ” ê°•ë ¥í•œ ë§Œí¼ ìœ„í—˜í•˜ê¸°ì— í° ì¥ì ì´ ë  ìˆ˜ë„ ìˆì§€ë§Œ í° ë‹¨ì ì´ ë  ìˆ˜ë„ ìˆë‹¤.
- ê·¸ë¦¬ê³  ì‚¬ì‹¤ ëŒ€ë¶€ë¶„ì˜ ë¬¸ì œëŠ” GlobalKeyë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³ ë„ í•´ê²°í•  ìˆ˜ ìˆë‹¤.
- ìœ„ ë¬¸ì œ ë˜í•œ [Flutterì—ì„œ ê¶Œì¥í•˜ëŠ” ìƒíƒœ ê´€ë¦¬ ë°©ì‹](https://docs.flutter.dev/data-and-backend/state-mgmt/options) ì¤‘ í•˜ë‚˜ë¥¼ ì‚¬ìš©í•´ í•´ê²°í•  ìˆ˜ ìˆë‹¤.
- **`GlobalKey`ëŠ” ì „ì—­ ë³€ìˆ˜ì™€ ê°™ìœ¼ë‹ˆ, ë‚¨ë°œí•˜ì§€ ë§ê³  ì ì¬ì ì†Œì— ì‚¬ìš©í•˜ì.**

# Rule of thumb for GlobalKey
> [!Note]- (ì˜ì–´ ê³µë¶€) rule of thumb
> : a practical and approximate way of doing or measuring something
> : a broadly accurate guide or principle, based on experience or practice rather than theory
> : ê³¼í•™ì ì´ê±°ë‚˜ ìˆ˜í•™ì ì¸ ê·¼ê±°ê°€ ì•„ë‹Œ, ëŒ€ìƒì— ëŒ€í•˜ì—¬ í†µìƒì ì¸ ê²½í—˜ì— ë¹„ì¶°ë³´ì•˜ì„ ë•Œ ëŒ€ëµì ì¸ ê²½í–¥ ë° ì–‘ìƒì„ ë ëŠ” ê·œì¹™
1. **`LocalKey` ê·œì¹™**
    - ì¡°ê±´: ê°™ì€ ë¶€ëª¨ ìœ„ì ¯ì„ ê³µìœ í•˜ëŠ” ê²½ìš°, ë‘ ìœ„ì ¯ì´ ë™ì¼í•œ `LocalKey`ë¥¼ ê°€ì§ˆ ìˆ˜ ì—†ë‹¤.
    - ë™ì‘ ë°©ì‹: `LocalKey`ëŠ” ë¶€ëª¨ ìœ„ì ¯ ìˆ˜ì¤€ì—ì„œì˜ ê³ ìœ ì„±ì„ ë³´ì¥í•œë‹¤.
    - e.g. `Row`ë‚˜ `Column`ì˜ ìì‹ ìœ„ì ¯ë“¤ì´ `LocalKey`ë¥¼ í†µí•´ ê³ ìœ í•˜ê²Œ ì‹ë³„ëœë‹¤.
2. **`GlobalKey` ê·œì¹™**
    - ì¡°ê±´: ì•± ë‚´ì—ì„œ ë‘ ìœ„ì ¯ì´ ë™ì¼í•œ `GlobalKey`ë¥¼ ê°€ì§ˆ ìˆ˜ ì—†ë‹¤.
    - ë™ì‘ ë°©ì‹: `GlobalKey`ëŠ” ì•±ì˜ ì–´ëŠ ìœ„ì¹˜ì—ì„œë“  ë™ì¼í•œ Keyë¥¼ ì‚¬ìš©í•´ ìœ„ì ¯ì„ ê³ ìœ í•˜ê²Œ ì‹ë³„í•  ìˆ˜ ìˆë‹¤.
    - íŠ¹ì§•1: ë”°ë¼ì„œ `GlobalKey`ëŠ” `LocalKey`ë³´ë‹¤ ë” ë„“ì€ ë²”ìœ„ì˜ ê³ ìœ ì„±ì„ ì œê³µí•œë‹¤.
    - íŠ¹ì§•2: GlobalKeyëŠ” ìœ„ì ¯ì˜ **`Element`, `State`, `Widget`ì— ì ‘ê·¼**í•  ìˆ˜ ìˆëŠ” ê°•ë ¥í•œ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.
- **í”ŒëŸ¬í„°ëŠ” ì „ì—­ - ì§€ì—­ êµ¬ë¶„ì´ í•¨ìˆ˜ë‚˜ ê·¸ëŸ° ê²Œ ì•„ë‹ˆê³  ë¶€ëª¨ - ìì‹ì¸ ë“¯. ì•„ë¬´ë˜ë„ ìœ„ì ¯ ê¸°ë°˜ì´ë¼ ê·¸ëŸ°ê°€ ë´„.**
```dart
final globalKey = GlobalKey();
late final listTile = <Tile>[
    Tile(
      key: globalKey,
    ),
    Tile(
      key: globalKey,
    ),
  ];
```
- ì´ì™€ ê°™ì€ ì½”ë“œëŠ” ì‘ì„±í•˜ì§€ ë§ˆë¼.
- ì´ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¨ë‹¤.
    `Multiple widgets used the same GlobalKey`

# ì˜ˆì œ from me
```dart
// ìì‹ ìœ„ì ¯ - ë°ì´í„° í…Œì´ë¸”
class BuildAppDataTable extends StatefulWidget {
  // ìƒëµ
  **final GlobalKey<BuildAppDataTableState>? key;**
  **final List<dynamic> rawData;**

  const BuildAppDataTable({
    **this.key,**
    **required this.rawData,**
    // ìƒëµ
  }) : super(key: key);
  @override
  State<BuildAppDataTable> createState() => BuildAppDataTableState();
}

class BuildAppDataTableState extends State<BuildAppDataTable> {
  late List<bool> selected;

  List<Map<String, dynamic>> **getSelectedRowData()** { **// ë¶€ëª¨ ìœ„ì ¯ì—ì„œ ì ‘ê·¼í•˜ë ¤ëŠ” ë©”ì„œë“œ**
    List<Map<String, dynamic>> selectedRowsData = [];
    for (int i = 0; i < selected.length; i++) {
      if (selected![i]) {
        selectedRowsData.add(widget.rawData[i]);
      }
    }
    return selectedRowsData;
  }
// ìƒëµ
}

// ë¶€ëª¨ ìœ„ì ¯ - DelvInPage ì…ê³  ë“±ë¡ í˜ì´ì§€
class DelvInPage extends StatefulWidget {
  const DelvInPage({Key? key}) : super(key: key);

  @override
  DelvInPageState createState() => DelvInPageState();
}

class DelvInPageState extends State<DelvInPage> {
  WorkingTagBloc? workingTagBloc;
  late List<bool> selectedRows;
  List<Map<String, dynamic>> dataToSave = [];
  **final GlobalKey<BuildAppDataTableState> dataTableKey = GlobalKey();**

  // ìì‹ ìœ„ì ¯(ë°ì´í„° í…Œì´ë¸”)ì— ìˆëŠ” ë©”ì„œë“œ getSelectedRowData()ë¥¼ ì‚¬ìš©í•˜ëŠ” ë¶€ë¶„
  List<Map<String, dynamic>> _onSavePressed() {
    List<Map<String, dynamic>> selectedData =
        dataTableKey.currentState?.**getSelectedRowData**() ?? [];
    print("Selected Data: $selectedData");
    return selectedData;
  }

  // ìƒëµ
  @override
  Widget build(BuildContext context) {
  // ìƒëµ
    return DefaultScaffold(
      // ìƒëµ
              BuildAppDataTable( // ìì‹ ìœ„ì ¯(ë°ì´í„° í…Œì´ë¸”) ìƒì„± ë¶€ë¶„
                **rawData: dataToSave,**
                **key: dataTableKey, // ê¸€ë¡œë²Œ í‚¤ë¥¼ ìì‹ ìœ„ì ¯ì— ë„˜ê²¨ ì¤€ë‹¤.**
                // ìƒ
                onCheckboxChanged: (bool? value, int index) {
                  setState(() {
                    selectedRows[index] = value!;
                  });
                },
              ),
      // ìƒëµ
    )
  }
}
```
- ANASA WARE Mobile - **`DelvInPage`ì— `GlobalKey<BuildAppDataTableState>`ë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ **
- **TL;DR** : `DelvInPage` ìƒíƒœì™€ `BuildAppDataTable` ìƒíƒœ ì‚¬ì´ì˜ ì—°ê²°ì„ ë§Œë“¤ê¸° ìœ„í•´ì„œ
    - ì´ ì—°ê²°ì„ í†µí•´ `DelvInPageState`ì—ì„œ `BuildAppDataTableState`ì˜ ë©”ì„œë“œì™€ ì†ì„±ì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.
    - ìœ„ ì½”ë“œì˜ ê²½ìš° `BuildAppDataTable`ì—ì„œ ì„ íƒëœ í–‰ ë°ì´í„°ì— ì ‘ê·¼í•˜ë ¤ê³  ì‚¬ìš©í•œë‹¤.
- **GlobalKeyì˜ ì‚¬ìš© ëª©ì **
    - Flutterì—ì„œ `GlobalKey`ëŠ” **ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë‹¤ë¥¸ ë¶€ë¶„ì—ì„œ ìœ„ì ¯ì˜ ìƒíƒœì— ì ‘ê·¼í•  í•„ìš”ê°€ ìˆì„ ë•Œ ì‚¬ìš©**ëœë‹¤.
    - ìœ„ì ¯ ê³„ì¸µ êµ¬ì¡°ì—ì„œ `DelvInPage`ëŠ” `BuildAppDataTable`ì˜ ë¶€ëª¨ ìœ„ì ¯ì´ë‹¤.
    - ìì‹ ìœ„ì ¯ì¸ `BuildAppDataTable`ì— `GlobalKey`ë¥¼ í• ë‹¹í•¨ìœ¼ë¡œì¨, **ë¶€ëª¨ ìœ„ì ¯ì˜ ìƒíƒœ í´ë˜ìŠ¤**ì¸ `DelvInPageState`**ì—ì„œ ìì‹ ìœ„ì ¯ì˜ ìƒíƒœ**(`BuildAppDataTableState`)**ì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.**
    - ì„ íƒëœ í–‰ ë°ì´í„°ì— ì ‘ê·¼í•˜ê¸°: `BuildAppDataTableState`ì—ëŠ” ì„ íƒëœ í–‰ì˜ ë°ì´í„°ë¥¼ ë°˜í™˜í•˜ëŠ” `getSelectedRowData()` ë©”ì„œë“œê°€ ìˆë‹¤.
    - í•´ë‹¹ **ìì‹ ìœ„ì ¯ì˜ ë©”ì„œë“œë¥¼ ë¶€ëª¨ ìœ„ì ¯**ì¸ `DelvInPageState`**ì—ì„œ í˜¸ì¶œ**í•˜ë ¤ë©´ `BuildAppDataTableState`ì— ëŒ€í•œ ì°¸ì¡°ê°€ í•„ìš”í•˜ë‹¤. ì´ê²ƒì´ `GlobalKey`ê°€ ìœ ìš©í•œ ì´ìœ ì´ë‹¤.
- **ë°ì´í„°ì— ì§ì ‘ ì ‘ê·¼í•˜ì§€ ëª»í•˜ëŠ” ì´ìœ **: Flutterì˜ ìƒíƒœ ê´€ë¦¬ëŠ” ë¶€ëª¨ ìœ„ì ¯ì´ ìì‹ì˜ ìƒíƒœì— ì§ì ‘ ì ‘ê·¼í•  ìˆ˜ ì—†ë„ë¡ ì‘ë™í•œë‹¤. ì´ëŠ” Flutterê°€ ë‹¨ë°©í–¥ ë°ì´í„° íë¦„ ëª¨ë¸ì„ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì´ë‹¤. `GlobalKey`ëŠ” í•„ìš”í•  ë•Œ ì´ ì œí•œì„ ìš°íšŒí•˜ëŠ” ë°©ë²•ì´ë‹¤.
- **ì‚¬ìš©ë²•**: `DelvInPage`ì—ì„œ `BuildAppDataTable`ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•  ë•Œ, `dataTableKey`ë¥¼ ì „ë‹¬í•œë‹¤. ë‚˜ì¤‘ì— `DelvInPageState`ì—ì„œ ì„ íƒëœ í–‰ ë°ì´í„°ì— ì ‘ê·¼í•  í•„ìš”ê°€ ìˆì„ ë•Œ, ì´ í‚¤ë¥¼ ì‚¬ìš©í•œë‹¤.
    ```dart
    List<Map<String, dynamic>> selectedData = dataTableKey.currentState?.getSelectedRowData() ?? [];
    ```
    - ìœ„ ì½”ë“œëŠ” `dataTableKey`ë¥¼ ì‚¬ìš©í•˜ì—¬ `BuildAppDataTable`ì˜ `currentState`ì— ì ‘ê·¼í•œ ë‹¤ìŒ `getSelectedRowData` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œë‹¤.
- ëŒ€ì²´ ì ‘ê·¼ë²•: `GlobalKey`ëŠ” ìœ ìš©í•˜ì§€ë§Œ, ë“œë¬¼ê²Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. `GlobalKey`ì˜ ê³¼ë„í•œ ì‚¬ìš©ì€ ë³µì¡í•˜ê³  ìœ ì§€ ê´€ë¦¬í•˜ê¸° ì–´ë ¤ìš´ ì½”ë“œë¡œ ì´ì–´ì§ˆ ìˆ˜ ìˆë‹¤. ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì•„í‚¤í…ì²˜ì— ë”°ë¼, ìƒíƒœë¥¼ ê´€ë¦¬í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•ì´ ìˆì„ ìˆ˜ ìˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ `Provider`, `Bloc` ë˜ëŠ” Flutterê°€ ì§€ì›í•˜ëŠ” ë‹¤ë¥¸ ìƒíƒœ ê´€ë¦¬ ì†”ë£¨ì…˜ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
- ìš”ì•½í•˜ìë©´, ì´ ì‹œë‚˜ë¦¬ì˜¤ì—ì„œ **`GlobalKey`**ë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ ëŠ” ë¶€ëª¨ ìœ„ì ¯ì—ì„œ ìì‹ì˜ ìƒíƒœì˜ ë©”ì„œë“œì— ì ‘ê·¼í•˜ì—¬ UIì˜ ì»´í¬ë„ŒíŠ¸ ê°„ ë” ë³µì¡í•œ ìƒí˜¸ ì‘ìš©ì„ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” ê²ƒì´ë‹¤. í•˜ì§€ë§Œ í•­ìƒ ë” ê°„ë‹¨í•˜ê±°ë‚˜ ì ì ˆí•œ ìƒíƒœ ê´€ë¦¬ ì†”ë£¨ì…˜ì´ ìˆëŠ”ì§€ ê³ ë ¤í•´ì•¼ í•œë‹¤.